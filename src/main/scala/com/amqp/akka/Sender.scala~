package com.amqp.akka

import akka.actor.{Props, ActorSystem}

object Sender extends App{
  val system = ActorSystem("SenderSystem")
  val sendChannel = AMQP.getConnection.createChannel()
  val sendQueue = sendChannel.queueDeclare.getQueue
  sendChannel.queueBind(sendQueue,Defaults.EXCHANGE,"")
  val send = system.actorOf(Props(new AMQP_Sender(sendChannel,sendQueue)),"sender")
  (1 to 10) foreach { Listener.router1 ! "msg "+_}
}